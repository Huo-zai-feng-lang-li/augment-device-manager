<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Augmentè®¾å¤‡ç®¡ç†å™¨</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <!-- ä¼˜å…ˆåŠ è½½renderer.jsï¼Œç¡®ä¿å‡½æ•°å®šä¹‰ä¸è¢«è¦†ç›– -->
    <script src="renderer.js"></script>
    <style>
      /* æç®€é£æ ¼æ ·å¼ */
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(8px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateX(-12px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
          transform: scale(1);
        }
        50% {
          opacity: 0.8;
          transform: scale(1.05);
        }
      }

      @keyframes deviceIdUpdate {
        0% {
          background-color: #dcfce7;
          border-color: #16a34a;
          transform: scale(1);
        }
        50% {
          background-color: #bbf7d0;
          border-color: #15803d;
          transform: scale(1.02);
        }
        100% {
          background-color: #dcfce7;
          border-color: #16a34a;
          transform: scale(1);
        }
      }

      @keyframes spin {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      .animate-fadeIn {
        animation: fadeIn 0.4s ease-out;
      }
      .animate-slideIn {
        animation: slideIn 0.3s ease-out;
      }
      .animate-pulse {
        animation: pulse 2s infinite;
      }
      .animate-spin {
        animation: spin 1s linear infinite;
      }

      /* å¡ç‰‡æ ·å¼ */
      .card {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        transition: all 0.2s ease;
      }

      .card:hover {
        background: rgba(255, 255, 255, 0.98);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
      }

      /* æ ‡ç­¾é¡µ */
      .tab-content {
        display: none;
      }
      .tab-content.active {
        display: block;
        animation: fadeIn 0.3s ease-out;
      }

      /* æç®€èƒŒæ™¯ */
      .minimal-bg {
        background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
      }

      /* çŠ¶æ€æŒ‡ç¤ºå™¨ */
      .status-dot {
        position: relative;
      }

      .status-dot::before {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 100%;
        height: 100%;
        border-radius: 50%;
        background: inherit;
        animation: pulse 2s infinite;
        opacity: 0.4;
      }

      /* æ»šåŠ¨æ¡ */
      ::-webkit-scrollbar {
        width: 4px;
      }
      ::-webkit-scrollbar-track {
        background: #f1f5f9;
      }
      ::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 2px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
      }

      /* ä¼˜åŒ–çš„Tooltipæ ·å¼ */
      [data-tooltip] {
        position: relative;
      }

      [data-tooltip]:hover::before {
        content: attr(data-tooltip);
        position: absolute;
        bottom: 100%;
        left: 50%;
        transform: translateX(-50%);
        margin-bottom: 8px;
        padding: 20px 24px;
        background: rgba(15, 23, 42, 0.96);
        color: white;
        font-size: 13px;
        line-height: 2.2;
        border-radius: 12px;
        white-space: pre-wrap;
        word-wrap: break-word;
        word-break: normal;
        overflow-wrap: break-word;
        z-index: 1000;
        max-width: 480px;
        min-width: 360px;
        width: max-content;
        text-align: left;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.15);
        animation: fadeIn 0.3s ease-out;
        pointer-events: none;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        letter-spacing: 0.3px;
        hyphens: auto;
      }

      [data-tooltip]:hover::after {
        content: "";
        position: absolute;
        bottom: 100%;
        left: 50%;
        transform: translateX(-50%);
        margin-bottom: 2px;
        border: 6px solid transparent;
        border-top-color: rgba(30, 41, 59, 0.95);
        z-index: 1001;
        pointer-events: none;
        animation: fadeIn 0.2s ease-out;
      }

      /* é’ˆå¯¹å³ä¾§å…ƒç´ çš„tooltipä½ç½®è°ƒæ•´ */
      .tooltip-left[data-tooltip]:hover::before {
        left: auto;
        right: 0;
        transform: none;
      }

      .tooltip-left[data-tooltip]:hover::after {
        left: auto;
        right: 12px;
        transform: none;
      }

      /* åŠ è½½çŠ¶æ€ */
      .loading-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(248, 250, 252, 0.9);
        backdrop-filter: blur(4px);
        z-index: 9999;
      }

      /* Storageä¿æŠ¤ç›¸å…³æ ·å¼ */
      .storage-protection-section {
        margin: 1.5rem 0;
        padding: 1.5rem;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 1rem;
        border: 1px solid rgba(226, 232, 240, 0.5);
      }

      .protection-status {
        margin: 1rem 0;
        padding: 1rem;
        border-radius: 0.75rem;
        border: 2px solid;
        transition: all 0.3s ease;
      }

      .protection-status.protected {
        background-color: #dcfce7;
        border-color: #16a34a;
        color: #15803d;
      }

      .protection-status.unprotected {
        background-color: #fef3c7;
        border-color: #f59e0b;
        color: #d97706;
      }

      .protection-status.error {
        background-color: #fee2e2;
        border-color: #dc2626;
        color: #b91c1c;
      }

      .protection-status.checking {
        background-color: #e0f2fe;
        border-color: #0284c7;
        color: #0369a1;
      }

      .protection-status.processing {
        background-color: #f3e8ff;
        border-color: #9333ea;
        color: #7c3aed;
      }

      .status-indicator {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        font-weight: 500;
      }

      .protection-controls {
        display: flex;
        gap: 0.75rem;
        margin: 1rem 0;
        flex-wrap: wrap;
      }

      .protection-info {
        margin: 1rem 0;
        padding: 1rem;
        background-color: #f8fafc;
        border-radius: 0.5rem;
        border-left: 4px solid #64748b;
      }

      .protection-info p {
        margin: 0.25rem 0;
        color: #475569;
        font-size: 0.875rem;
      }

      .btn-primary,
      .btn-secondary,
      .btn-outline {
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        font-weight: 500;
        transition: all 0.2s ease;
        border: none;
        cursor: pointer;
        font-size: 0.875rem;
      }

      .btn-primary {
        background-color: #16a34a;
        color: white;
      }

      .btn-primary:hover {
        background-color: #15803d;
      }

      .btn-secondary {
        background-color: #f59e0b;
        color: white;
      }

      .btn-secondary:hover {
        background-color: #d97706;
      }

      .btn-outline {
        background-color: transparent;
        color: #64748b;
        border: 1px solid #cbd5e1;
      }

      .btn-outline:hover {
        background-color: #f1f5f9;
        border-color: #94a3b8;
      }

      .results-section {
        margin: 1rem 0;
        padding: 1rem;
        background-color: #f8fafc;
        border-radius: 0.5rem;
        border: 1px solid #e2e8f0;
      }

      .results-section p {
        margin: 0.25rem 0;
        font-size: 0.875rem;
        color: #475569;
      }
    </style>
  </head>
  <body class="min-h-screen minimal-bg">
    <!-- åŠ è½½çŠ¶æ€ -->
    <div
      id="loading"
      class="loading-overlay hidden items-center justify-center"
    >
      <div class="text-center">
        <div
          class="w-8 h-8 border-2 border-slate-300 border-t-slate-600 rounded-full animate-spin mx-auto mb-3"
        ></div>
        <p class="text-slate-600 text-sm">åŠ è½½ä¸­...</p>
      </div>
    </div>

    <!-- ä¸»å®¹å™¨ -->
    <div class="container mx-auto px-6 py-8 max-w-6xl">
      <!-- å¤´éƒ¨ -->
      <header class="text-center mb-12 animate-fadeIn relative">
        <!-- å³ä¸Šè§’æŒ‰é’®ç»„ -->
        <div class="absolute top-0 right-0 flex gap-3">
          <!-- å…¬å‘Šå†å²æŒ‰é’® -->
          <button
            onclick="toggleAnnouncementHistory()"
            class="group relative p-3 bg-white/80 backdrop-blur-sm rounded-full shadow-sm hover:shadow-md transition-all duration-300 hover:bg-white/90"
            title="æŸ¥çœ‹å…¬å‘Šå†å²"
          >
            <svg
              class="w-5 h-5 text-slate-600 group-hover:text-slate-800 transition-colors duration-300"
              fill="currentColor"
              viewBox="0 0 20 20"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"
              />
              <path
                d="M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"
              />
            </svg>
            <!-- å…¬å‘Šè®¡æ•°å¾½ç«  -->
            <span
              id="announcement-badge"
              class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium hidden"
            >
              0
            </span>
          </button>

          <!-- ä¸»é¢˜åˆ‡æ¢æŒ‰é’® -->
          <button
            id="theme-toggle-btn"
            onclick="toggleTheme()"
            class="group relative p-3 bg-white/80 backdrop-blur-sm rounded-full shadow-sm hover:shadow-md transition-all duration-300 hover:bg-white/90"
            title="åˆ‡æ¢åˆ°ä¸°å¯Œé£æ ¼"
          >
            <svg
              class="w-5 h-5 text-slate-600 group-hover:text-slate-800 transition-colors duration-300"
              fill="currentColor"
              viewBox="0 0 20 20"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                d="M4 2a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V4a1 1 0 100-2H4zm2 3a1 1 0 000 2h8a1 1 0 100-2H6zM6 9a1 1 0 100 2h8a1 1 0 100-2H6zM6 13a1 1 0 100 2h5a1 1 0 100-2H6z"
                clip-rule="evenodd"
              ></path>
            </svg>
            <!-- å·¥å…·æç¤º -->
            <div
              class="absolute bottom-full right-0 mb-2 px-3 py-1 bg-slate-800 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap"
            >
              åˆ‡æ¢åˆ°ä¸°å¯Œé£æ ¼
              <div
                class="absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-slate-800"
              ></div>
            </div>
          </button>
        </div>

        <div class="flex items-center justify-center gap-3 mb-4">
          <div
            class="w-12 h-12 bg-gradient-to-br from-slate-600 to-slate-800 rounded-2xl flex items-center justify-center"
          >
            <svg
              class="w-6 h-6 text-white"
              fill="currentColor"
              viewBox="0 0 20 20"
            >
              <path
                d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"
              />
            </svg>
          </div>
          <h1 class="text-3xl font-light text-slate-800">Augment è®¾å¤‡ç®¡ç†å™¨</h1>
        </div>
        <p class="text-slate-500 text-lg font-light">
          Cursor IDE è®¾å¤‡é™åˆ¶è§£å†³æ–¹æ¡ˆ
        </p>

        <!-- çŠ¶æ€æŒ‡ç¤ºå™¨ -->
        <div
          class="inline-flex items-center gap-2 mt-6 px-4 py-2 bg-white/80 rounded-full shadow-sm"
        >
          <div
            id="quick-status-indicator"
            class="w-2 h-2 bg-red-500 rounded-full status-dot"
          ></div>
          <span id="quick-status-text" class="text-sm text-slate-600"
            >è®¾å¤‡æœªæ¿€æ´»</span
          >
        </div>
      </header>

      <!-- å¯¼èˆªæ ‡ç­¾ -->
      <nav class="flex justify-center mb-8 animate-slideIn">
        <div class="flex bg-white/80 rounded-2xl p-1 shadow-sm">
          <button
            id="tab-btn-dashboard"
            onclick="switchTab('dashboard')"
            class="tab-btn px-6 py-3 text-sm font-medium rounded-xl transition-all duration-200 bg-slate-100 text-slate-800"
          >
            ä»ªè¡¨ç›˜
          </button>
          <button
            id="tab-btn-activation"
            onclick="switchTab('activation')"
            class="tab-btn px-6 py-3 text-sm font-medium rounded-xl transition-all duration-200 text-slate-600 hover:text-slate-800 hover:bg-slate-50"
          >
            è®¾å¤‡æ¿€æ´»
          </button>
          <button
            id="tab-btn-tools"
            onclick="switchTab('tools')"
            class="tab-btn px-6 py-3 text-sm font-medium rounded-xl transition-all duration-200 text-slate-600 hover:text-slate-800 hover:bg-slate-50"
          >
            å·¥å…·
          </button>
          <button
            id="tab-btn-system"
            onclick="switchTab('system')"
            class="tab-btn px-6 py-3 text-sm font-medium rounded-xl transition-all duration-200 text-slate-600 hover:text-slate-800 hover:bg-slate-50"
          >
            ç³»ç»Ÿ
          </button>
        </div>
      </nav>

      <!-- ä»ªè¡¨ç›˜æ ‡ç­¾é¡µ -->
      <div id="dashboard-tab" class="tab-content active">
        <!-- çŠ¶æ€å¡ç‰‡ç½‘æ ¼ -->
        <div class="grid md:grid-cols-3 gap-6 mb-8">
          <!-- è®¾å¤‡çŠ¶æ€ -->
          <div class="card rounded-2xl p-6 shadow-sm">
            <div class="flex items-center gap-3 mb-4">
              <div
                class="w-10 h-10 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl flex items-center justify-center"
              >
                <svg
                  class="w-5 h-5 text-white"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    fill-rule="evenodd"
                    d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                  />
                </svg>
              </div>
              <div>
                <h3 class="font-medium text-slate-800">è®¾å¤‡çŠ¶æ€</h3>
                <p class="text-sm text-slate-500">æ¿€æ´»çŠ¶æ€</p>
              </div>
            </div>
            <div class="text-center">
              <h4
                id="status-text"
                class="text-xl font-semibold text-red-600 mb-1"
              >
                æœªæ¿€æ´»
              </h4>
              <p id="status-detail" class="text-sm text-slate-500">
                è¯·è¾“å…¥æ¿€æ´»ç ä»¥å¯ç”¨è®¾å¤‡åŠŸèƒ½
              </p>
            </div>
          </div>

          <!-- è¿æ¥çŠ¶æ€ -->
          <div class="card rounded-2xl p-6 shadow-sm">
            <div class="flex items-center gap-3 mb-4">
              <div
                class="w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center"
              >
                <svg
                  class="w-5 h-5 text-white"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    fill-rule="evenodd"
                    d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                  />
                </svg>
              </div>
              <div>
                <h3 class="font-medium text-slate-800">è¿æ¥çŠ¶æ€</h3>
                <p class="text-sm text-slate-500">æœåŠ¡å™¨è¿æ¥</p>
              </div>
            </div>
            <div class="space-y-3">
              <div class="flex items-center justify-between">
                <span class="text-sm text-slate-600">æœåŠ¡å™¨</span>
                <div id="connection-status" class="flex items-center gap-2">
                  <div class="w-2 h-2 bg-red-500 rounded-full status-dot"></div>
                  <span class="text-sm font-medium text-red-600">æœªè¿æ¥</span>
                </div>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-sm text-slate-600">å»¶è¿Ÿ</span>
                <span
                  id="network-latency"
                  class="text-sm font-medium text-slate-800"
                  >-</span
                >
              </div>
              <div class="flex items-center justify-between">
                <span class="text-sm text-slate-600">æœ€ååŒæ­¥</span>
                <span id="last-sync" class="text-sm text-slate-500">ä»æœª</span>
              </div>
            </div>
            <button
              onclick="testServerConnection()"
              class="w-full mt-4 px-4 py-2 bg-blue-500 text-white text-sm font-medium rounded-lg hover:bg-blue-600 transition-colors"
            >
              æµ‹è¯•è¿æ¥
            </button>
          </div>

          <!-- ç³»ç»Ÿä¿¡æ¯ -->
          <div class="card rounded-2xl p-6 shadow-sm">
            <div class="flex items-center gap-3 mb-4">
              <div
                class="w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center"
              >
                <svg
                  class="w-5 h-5 text-white"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    fill-rule="evenodd"
                    d="M3 5a2 2 0 012-2h10a2 2 0 012 2v8a2 2 0 01-2 2h-2.22l.123.489.804.804A1 1 0 0113 18H7a1 1 0 01-.707-1.707l.804-.804L7.22 15H5a2 2 0 01-2-2V5zm5.771 7H5V5h10v7H8.771z"
                  />
                </svg>
              </div>
              <div>
                <h3 class="font-medium text-slate-800">ç³»ç»Ÿä¿¡æ¯</h3>
                <p class="text-sm text-slate-500">æ€§èƒ½ç›‘æ§</p>
              </div>
            </div>
            <div class="space-y-3">
              <div>
                <div class="flex justify-between items-center mb-1">
                  <span class="text-sm text-slate-600">CPU</span>
                  <span id="cpu-text" class="text-sm font-medium">0%</span>
                </div>
                <div class="w-full bg-slate-200 rounded-full h-2">
                  <div
                    id="cpu-progress"
                    class="bg-gradient-to-r from-emerald-400 to-emerald-500 h-2 rounded-full transition-all duration-500"
                    style="width: 0%"
                  ></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between items-center mb-1">
                  <span class="text-sm text-slate-600">å†…å­˜</span>
                  <span id="memory-text" class="text-sm font-medium">0%</span>
                </div>
                <div class="w-full bg-slate-200 rounded-full h-2">
                  <div
                    id="memory-progress"
                    class="bg-gradient-to-r from-blue-400 to-blue-500 h-2 rounded-full transition-all duration-500"
                    style="width: 0%"
                  ></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- è®¾å¤‡æ¿€æ´»æ ‡ç­¾é¡µ -->
      <div id="activation-tab" class="tab-content">
        <div class="max-w-md mx-auto">
          <div class="card rounded-2xl p-8 shadow-sm text-center">
            <div
              class="w-16 h-16 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-2xl flex items-center justify-center mx-auto mb-6"
            >
              <svg
                class="w-8 h-8 text-white"
                fill="currentColor"
                viewBox="0 0 20 20"
              >
                <path
                  fill-rule="evenodd"
                  d="M18 8a6 6 0 01-7.743 5.743L10 14l-1 1-1 1H6v2H2v-4l4.257-4.257A6 6 0 1118 8zm-6-4a1 1 0 100 2 2 2 0 012 2 1 1 0 102 0 4 4 0 00-4-4z"
                />
              </svg>
            </div>

            <!-- æ¿€æ´»è¡¨å• -->
            <div id="activation-form">
              <h3 class="text-xl font-semibold text-slate-800 mb-2">
                è®¾å¤‡æ¿€æ´»
              </h3>
              <p class="text-slate-500 mb-6">è¯·è¾“å…¥æ¿€æ´»ç ä»¥å¯ç”¨è®¾å¤‡åŠŸèƒ½</p>

              <div class="space-y-4">
                <input
                  type="text"
                  id="activation-code"
                  placeholder="è¯·è¾“å…¥æ¿€æ´»ç "
                  class="w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent"
                />
                <button
                  onclick="validateActivation()"
                  class="w-full px-6 py-3 bg-emerald-500 text-white font-medium rounded-xl hover:bg-emerald-600 transition-colors"
                >
                  æ¿€æ´»è®¾å¤‡
                </button>
              </div>
            </div>

            <!-- å·²æ¿€æ´»ä¿¡æ¯ -->
            <div id="activated-info" class="hidden">
              <h3 class="text-xl font-semibold text-emerald-600 mb-2">
                è®¾å¤‡å·²æ¿€æ´»
              </h3>
              <p class="text-slate-500 mb-4">è®¾å¤‡åŠŸèƒ½å·²å¯ç”¨</p>
              <div
                id="activation-details"
                class="text-sm text-slate-600 bg-slate-50 rounded-lg p-4"
              ></div>
            </div>
          </div>
        </div>
      </div>

      <!-- å·¥å…·æ ‡ç­¾é¡µ -->
      <div id="tools-tab" class="tab-content">
        <!-- ä¸»è¦å¸ƒå±€ï¼šå·¦ä¾§æ¸…ç†å·¥å…·ï¼Œå³ä¾§å…¶ä»–å·¥å…· -->
        <div class="grid md:grid-cols-2 gap-6">
          <!-- å·¦ä¾§ï¼šæ¸…ç†å·¥å…· -->
          <div class="card rounded-2xl p-6 shadow-sm">
            <div class="flex items-center gap-3 mb-4">
              <div
                class="w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center"
              >
                <svg
                  class="w-5 h-5 text-white"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    fill-rule="evenodd"
                    d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"
                  />
                  <path
                    fill-rule="evenodd"
                    d="M4 5a2 2 0 012-2h8a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 2a1 1 0 000 2h6a1 1 0 100-2H7z"
                  />
                </svg>
              </div>
              <div>
                <h3 class="font-medium text-slate-800">æ¸…ç†å·¥å…·</h3>
                <p class="text-sm text-slate-500">æ¸…ç†ç³»ç»Ÿç¼“å­˜</p>
              </div>
            </div>
            <p class="text-sm text-slate-600 mb-4">
              æ¸…ç†IDEç›¸å…³çš„ç¼“å­˜æ–‡ä»¶å’Œä¸´æ—¶æ•°æ®ï¼Œé‡Šæ”¾ç£ç›˜ç©ºé—´ã€‚
            </p>

            <!-- åŠŸèƒ½è¯´æ˜ -->
            <div
              class="mb-6 p-4 bg-amber-50 border border-amber-200 rounded-lg"
            >
              <h3
                class="text-sm font-medium text-amber-800 mb-2 flex items-center gap-2"
              >
                ğŸ’¡ åŠŸèƒ½è¯´æ˜
              </h3>
              <div class="text-xs text-amber-700 space-y-1">
                <p>
                  <strong>é»˜è®¤æ¸…ç†</strong>ï¼šä»…æ¸…ç† Augment
                  æ‰©å±•æ•°æ®ï¼Œè®©æ‰©å±•è®¤ä¸ºæ˜¯æ–°è®¾å¤‡ï¼Œä¿ç•™ IDE ç™»å½•çŠ¶æ€
                </p>
                <p>
                  <strong>å®Œå…¨é‡ç½®</strong>ï¼šæ¸…ç†æ‰€æœ‰ IDE æ•°æ®ï¼Œè®© IDE
                  ä¹Ÿè®¤ä¸ºæ˜¯å…¨æ–°ç”¨æˆ·ï¼Œéœ€è¦é‡æ–°ç™»å½•
                </p>
              </div>
            </div>

            <!-- IDEé€‰æ‹©åŒºåŸŸ -->
            <div class="mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg">
              <h3 class="text-lg font-semibold text-blue-800 mb-3">
                ğŸ¯ é€‰æ‹©è¦æ¸…ç†çš„IDE
              </h3>
              <div class="space-y-2">
                <label class="flex items-center gap-3 text-sm cursor-pointer">
                  <input
                    type="checkbox"
                    id="clean-cursor"
                    checked
                    class="rounded border-slate-300 text-blue-600 focus:ring-blue-500"
                  />
                  <span class="text-slate-800">ğŸ¨ Cursor IDE</span>
                  <span class="text-xs text-slate-500 ml-2"
                    >(é»˜è®¤æ¸…ç†Augmentæ‰©å±•æ•°æ®)</span
                  >
                </label>
                <label class="flex items-center gap-3 text-sm cursor-pointer">
                  <input
                    type="checkbox"
                    id="clean-vscode"
                    class="rounded border-slate-300 text-blue-600 focus:ring-blue-500"
                  />
                  <span class="text-slate-800">ğŸ’™ Visual Studio Code</span>
                  <span class="text-xs text-slate-500 ml-2"
                    >(é»˜è®¤æ¸…ç†Augmentæ‰©å±•æ•°æ®)</span
                  >
                </label>
              </div>
            </div>

            <!-- PowerShellè¾…åŠ©é€‰é¡¹ -->
            <div class="mb-4">
              <label class="flex items-center gap-2 text-sm">
                <input
                  type="checkbox"
                  id="use-powershell-assist"
                  class="rounded border-slate-300 text-blue-600 focus:ring-blue-500"
                  checked
                />
                <span class="text-slate-800">ğŸš€ å¯ç”¨PowerShellè¾…åŠ©æ¸…ç†</span>
                <span class="text-xs text-blue-600 ml-2"
                  >(æ¨èï¼Œæ›´å¼ºçš„æ¸…ç†èƒ½åŠ›)</span
                >
              </label>
              <div class="text-xs text-slate-500 ml-6 mt-1">
                â€¢ ç³»ç»Ÿçº§æ³¨å†Œè¡¨æ“ä½œ â€¢ æ·±åº¦Augmenté£æ§æ¸…ç† â€¢ æ›´é«˜çš„æ¸…ç†æˆåŠŸç‡
              </div>
            </div>

            <!-- å¢å¼ºé˜²æŠ¤é€‰é¡¹ - å¯¹ç”¨æˆ·å¯è§ -->
            <div class="mb-4 space-y-2" style="display: none">
              <h3 class="text-lg font-semibold text-slate-800 mb-3">
                ğŸ›¡ï¸ å¢å¼ºé˜²æŠ¤é€‰é¡¹
              </h3>
              <label class="flex items-center gap-2 text-sm">
                <input
                  type="checkbox"
                  id="skip-backup"
                  checked
                  class="rounded border-slate-300"
                />
                <span class="text-slate-700"
                  >ğŸš« è·³è¿‡å¤‡ä»½æ–‡ä»¶åˆ›å»ºï¼ˆé˜²æ­¢IDEæ¢å¤ï¼‰</span
                >
              </label>
              <label class="flex items-center gap-2 text-sm">
                <input
                  type="checkbox"
                  id="enable-enhanced-guardian"
                  checked
                  class="rounded border-slate-300"
                />
                <span class="text-slate-700"
                  >ğŸ›¡ï¸ å¯ç”¨å¢å¼ºå®ˆæŠ¤è¿›ç¨‹ï¼ˆå®æ—¶é˜²æŠ¤ï¼‰</span
                >
              </label>

              <!-- å¢å¼ºé˜²æŠ¤è¯´æ˜ -->
              <div
                class="mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg"
              >
                <div class="flex items-start gap-2">
                  <svg
                    class="w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                      clip-rule="evenodd"
                    />
                  </svg>
                  <div class="text-xs text-blue-700">
                    <div class="font-medium mb-1">ğŸ”’ æŒç»­é˜²æŠ¤è¯´æ˜</div>
                    <div class="space-y-1">
                      <div>
                        â€¢ <strong>ç‹¬ç«‹æœåŠ¡æ¨¡å¼</strong>ï¼šå®¢æˆ·ç«¯å…³é—­åç»§ç»­è¿è¡Œ
                      </div>
                      <div>
                        â€¢ <strong>24/7ç›‘æ§</strong>ï¼šå®æ—¶ä¿æŠ¤storage.jsonæ–‡ä»¶
                      </div>
                      <div>
                        â€¢ <strong>è‡ªåŠ¨æ‹¦æˆª</strong>ï¼šé˜»æ­¢Cursoræ¢å¤æ—§è®¾å¤‡ID
                      </div>
                      <div>
                        â€¢ <strong>æ‰‹åŠ¨åœæ­¢</strong>ï¼šé€šè¿‡ä¸‹æ–¹çŠ¶æ€å¡ç‰‡åœæ­¢é˜²æŠ¤
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- ä¼ ç»Ÿæ¸…ç†é€‰é¡¹ - éšè—ä½†ä¿æŒé»˜è®¤é€‰ä¸­çŠ¶æ€ -->
            <div class="mb-4 space-y-2" style="display: none">
              <label class="flex items-center gap-2 text-sm">
                <input
                  type="checkbox"
                  id="preserve-activation"
                  checked
                  class="rounded border-slate-300"
                />
                <span class="text-slate-700">ä¿ç•™æ¿€æ´»çŠ¶æ€ï¼ˆæ¨èï¼‰</span>
              </label>
              <label class="flex items-center gap-2 text-sm">
                <input
                  type="checkbox"
                  id="deep-clean"
                  checked
                  class="rounded border-slate-300"
                />
                <span class="text-slate-700">æ·±åº¦æ¸…ç†ï¼ˆå¯èƒ½å½±å“è®¾å¤‡IDï¼‰</span>
              </label>
              <label class="flex items-center gap-2 text-sm">
                <input
                  type="checkbox"
                  id="clean-cursor-extension"
                  checked
                  class="rounded border-slate-300"
                />
                <span class="text-slate-700"
                  >ğŸ¯ æ¸…ç†Cursor IDEæ‰©å±•æ•°æ®ï¼ˆè®©Augmentæ‰©å±•è®¤ä¸ºæ˜¯æ–°è®¾å¤‡ï¼‰</span
                >
              </label>
            </div>

            <!-- æ–°å¢ï¼šCursor IDEå®Œå…¨é‡ç½®é€‰é¡¹ -->
            <div
              class="mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg"
            >
              <label class="flex items-center gap-3 text-sm cursor-pointer">
                <input
                  type="checkbox"
                  id="reset-cursor-completely"
                  class="rounded border-slate-300 text-amber-600 focus:ring-amber-500"
                />
                <div class="flex-1">
                  <span class="text-slate-800 font-medium"
                    >ğŸ”„ å®Œå…¨é‡ç½®Cursor IDEç”¨æˆ·èº«ä»½</span
                  >
                  <p class="text-xs text-slate-600 mt-1">
                    æ¸…ç†æ‰€æœ‰Cursor
                    IDEæ•°æ®ï¼Œè®©IDEä¹Ÿè®¤ä¸ºæ˜¯å…¨æ–°ç”¨æˆ·ï¼ˆåŒ…æ‹¬é¥æµ‹IDã€ç”¨æˆ·è®¾ç½®ç­‰ï¼‰
                  </p>
                </div>
              </label>
            </div>

            <!-- VS Codeé‡ç½®é€‰é¡¹ -->
            <div class="mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg">
              <label class="flex items-center gap-3 text-sm cursor-pointer">
                <input
                  type="checkbox"
                  id="reset-vscode-completely"
                  class="rounded border-slate-300 text-blue-600 focus:ring-blue-500"
                />
                <div class="flex-1">
                  <span class="text-slate-800 font-medium"
                    >ğŸ”„ å®Œå…¨é‡ç½®VS Codeç”¨æˆ·èº«ä»½</span
                  >
                  <p class="text-xs text-slate-600 mt-1">
                    æ¸…ç†æ‰€æœ‰VS
                    Codeæ•°æ®ï¼Œè®©IDEä¹Ÿè®¤ä¸ºæ˜¯å…¨æ–°ç”¨æˆ·ï¼ˆåŒ…æ‹¬é¥æµ‹IDã€ç”¨æˆ·è®¾ç½®ç­‰ï¼‰
                  </p>
                </div>
              </label>
            </div>

            <button
              onclick="performCleanup()"
              class="w-full px-4 py-2 bg-orange-500 text-white font-medium rounded-lg hover:bg-orange-600 transition-colors mb-4"
            >
              å¼€å§‹æ¸…ç†
            </button>

            <!-- å¢å¼ºé˜²æŠ¤æ§åˆ¶å·²ç§»è‡³å³ä¸Šè§’ -->

            <!-- æ¸…ç†æ—¥å¿—æ˜¾ç¤ºåŒºåŸŸ -->
            <div id="cleanup-log-container" class="hidden">
              <div class="bg-slate-50 rounded-lg p-3 border">
                <div class="flex items-center justify-between mb-2">
                  <h4 class="text-sm font-medium text-slate-700">æ¸…ç†æ—¥å¿—</h4>
                  <button
                    onclick="hideCleanupLog()"
                    class="text-xs text-slate-500 hover:text-slate-700 flex items-center gap-1"
                    title="éšè—æ¸…ç†æ—¥å¿—"
                  >
                    <svg
                      class="w-3 h-3"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"
                        clip-rule="evenodd"
                      />
                    </svg>
                    æ”¶èµ·
                  </button>
                </div>
                <div
                  id="cleanup-log"
                  class="text-xs text-slate-600 bg-white rounded border p-2 max-h-32 overflow-y-auto font-mono"
                >
                  ç­‰å¾…æ¸…ç†æ“ä½œ...
                </div>
              </div>
            </div>
          </div>

          <!-- å³ä¾§ï¼šå…¶ä»–å·¥å…·å‚ç›´æ’åˆ— -->
          <div class="space-y-6">
            <!-- å¢å¼ºé˜²æŠ¤çŠ¶æ€ - é‡æ„ç‰ˆ -->
            <div
              class="bg-white rounded-2xl p-6 shadow-lg border border-slate-100"
            >
              <!-- æ ‡é¢˜åŒºåŸŸ -->
              <div class="flex items-center justify-between mb-6">
                <div class="flex items-center gap-3">
                  <div
                    class="w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg"
                  >
                    <svg
                      class="w-6 h-6 text-white"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                        clip-rule="evenodd"
                      />
                    </svg>
                  </div>
                  <div>
                    <h3 class="text-lg font-semibold text-slate-800">
                      å¢å¼ºé˜²æŠ¤
                    </h3>
                    <p class="text-sm text-slate-500">å®æ—¶ç›‘æ§é˜²æŠ¤çŠ¶æ€</p>
                  </div>
                </div>

                <!-- çŠ¶æ€æŒ‡ç¤ºå™¨ -->
                <div class="flex items-center gap-2">
                  <div
                    id="guardian-status-indicator"
                    class="w-3 h-3 bg-slate-400 rounded-full animate-pulse"
                  ></div>
                  <span
                    id="guardian-status"
                    class="text-sm font-medium text-slate-600"
                    >æœªå¯åŠ¨</span
                  >
                </div>
              </div>

              <!-- ç»Ÿè®¡æ•°æ®å¡ç‰‡ -->
              <div class="grid grid-cols-3 gap-4 mb-6">
                <div
                  class="bg-gradient-to-br from-red-50 to-red-100 rounded-xl p-4 border border-red-200/50"
                >
                  <div class="flex items-center gap-3">
                    <div
                      class="w-10 h-10 bg-red-500 rounded-lg flex items-center justify-center"
                    >
                      <svg
                        class="w-5 h-5 text-white"
                        fill="currentColor"
                        viewBox="0 0 20 20"
                      >
                        <path
                          fill-rule="evenodd"
                          d="M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z"
                          clip-rule="evenodd"
                        />
                      </svg>
                    </div>
                    <div>
                      <div
                        id="intercept-count"
                        class="text-2xl font-bold text-red-700"
                      >
                        0
                      </div>
                      <div class="text-xs font-medium text-red-600">
                        æ‹¦æˆªæ¬¡æ•°
                      </div>
                    </div>
                  </div>
                </div>

                <div
                  class="bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl p-4 border border-orange-200/50"
                >
                  <div class="flex items-center gap-3">
                    <div
                      class="w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center"
                    >
                      <svg
                        class="w-5 h-5 text-white"
                        fill="currentColor"
                        viewBox="0 0 20 20"
                      >
                        <path
                          fill-rule="evenodd"
                          d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"
                          clip-rule="evenodd"
                        />
                        <path
                          fill-rule="evenodd"
                          d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zM8 8a1 1 0 012 0v3a1 1 0 11-2 0V8zm4 0a1 1 0 10-2 0v3a1 1 0 102 0V8z"
                          clip-rule="evenodd"
                        />
                      </svg>
                    </div>
                    <div>
                      <div
                        id="backup-removed"
                        class="text-2xl font-bold text-orange-700"
                      >
                        0
                      </div>
                      <div class="text-xs font-medium text-orange-600">
                        åˆ é™¤å¤‡ä»½
                      </div>
                    </div>
                  </div>
                </div>

                <div
                  class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4 border border-blue-200/50"
                >
                  <div class="flex items-center gap-3">
                    <div
                      class="w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center"
                    >
                      <svg
                        class="w-5 h-5 text-white"
                        fill="currentColor"
                        viewBox="0 0 20 20"
                      >
                        <path
                          fill-rule="evenodd"
                          d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.293l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L9 9.414V13a1 1 0 102 0V9.414l1.293 1.293a1 1 0 001.414-1.414z"
                          clip-rule="evenodd"
                        />
                      </svg>
                    </div>
                    <div>
                      <div
                        id="protection-restored"
                        class="text-2xl font-bold text-blue-700"
                      >
                        0
                      </div>
                      <div class="text-xs font-medium text-blue-600">
                        æ¢å¤ä¿æŠ¤
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- é˜²æŠ¤æ€§èƒ½ä¿¡æ¯ -->
              <div class="grid grid-cols-2 gap-4 mb-6">
                <div
                  class="bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4 border border-green-200/50"
                >
                  <div class="flex items-center gap-3">
                    <div
                      class="w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center"
                    >
                      <svg
                        class="w-5 h-5 text-white"
                        fill="currentColor"
                        viewBox="0 0 20 20"
                      >
                        <path
                          fill-rule="evenodd"
                          d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"
                          clip-rule="evenodd"
                        />
                      </svg>
                    </div>
                    <div>
                      <div
                        id="guardian-uptime"
                        class="text-2xl font-bold text-green-700"
                      >
                        0åˆ†é’Ÿ
                      </div>
                      <div class="text-xs font-medium text-green-600">
                        é˜²æŠ¤è¿è¡Œæ—¶é—´
                      </div>
                    </div>
                  </div>
                </div>

                <div
                  class="bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4 border border-purple-200/50"
                >
                  <div class="flex items-center gap-3">
                    <div
                      class="w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center"
                    >
                      <svg
                        class="w-5 h-5 text-white"
                        fill="currentColor"
                        viewBox="0 0 20 20"
                      >
                        <path
                          d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"
                        />
                      </svg>
                    </div>
                    <div>
                      <div
                        id="guardian-memory"
                        class="text-2xl font-bold text-purple-700"
                      >
                        0MB
                      </div>
                      <div class="text-xs font-medium text-purple-600">
                        å†…å­˜å ç”¨
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- è®¾å¤‡IDæ˜¾ç¤ºåŒºåŸŸ -->
              <div
                class="mb-6 p-4 bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200 rounded-xl"
              >
                <div class="text-center">
                  <p
                    class="text-slate-600 mb-3 font-medium flex items-center justify-center gap-2"
                  >
                    <svg
                      class="w-4 h-4 text-blue-500"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M6 6V5a3 3 0 013-3h2a3 3 0 013 3v1h2a2 2 0 012 2v3.57A22.952 22.952 0 0110 13a22.95 22.95 0 01-8-1.43V8a2 2 0 012-2h2zm2-1a1 1 0 011-1h2a1 1 0 011 1v1H8V5zm1 5a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z"
                        clip-rule="evenodd"
                      />
                      <path
                        d="M2 13.692V16a2 2 0 002 2h12a2 2 0 002-2v-2.308A24.974 24.974 0 0110 15c-2.796 0-5.487-.46-8-1.308z"
                      />
                    </svg>
                    è®¾å¤‡IDï¼ˆæ¸…ç†æˆåŠŸæ ‡å¿—ï¼‰
                  </p>
                  <div class="flex items-center justify-center gap-2">
                    <p
                      id="device-id-text"
                      class="font-mono text-sm text-slate-800 bg-white border border-blue-300 px-4 py-2 rounded-lg font-semibold select-all shadow-sm"
                      style="word-break: break-all; max-width: 300px"
                    >
                      è·å–ä¸­...
                    </p>
                    <button
                      onclick="copyDeviceId()"
                      class="p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-100 rounded-lg transition-colors"
                      title="å¤åˆ¶è®¾å¤‡ID"
                    >
                      <svg
                        class="w-4 h-4"
                        fill="currentColor"
                        viewBox="0 0 20 20"
                      >
                        <path
                          d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"
                        />
                        <path
                          d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"
                        />
                      </svg>
                    </button>
                  </div>
                </div>
              </div>

              <!-- æ§åˆ¶æŒ‰é’®åŒºåŸŸ -->
              <div class="flex gap-3">
                <button
                  id="start-guardian-btn"
                  onclick="startGuardianService()"
                  class="flex-1 px-4 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-medium rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all duration-200 flex items-center justify-center gap-2 shadow-lg hover:shadow-xl"
                  title="å¯åŠ¨å¢å¼ºé˜²æŠ¤æœåŠ¡"
                >
                  å¯åŠ¨é˜²æŠ¤
                </button>

                <button
                  id="stop-all-node-btn"
                  onclick="stopAllNodeProcesses()"
                  class="px-3 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white font-medium rounded-xl hover:from-red-600 hover:to-red-700 transition-all duration-200 flex items-center justify-center gap-1 shadow-lg hover:shadow-xl"
                  title="åœæ­¢æ‰€æœ‰Node.jsè¿›ç¨‹"
                >
                  <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                    <path
                      fill-rule="evenodd"
                      d="M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 012 0v4a1 1 0 11-2 0V7zM12 7a1 1 0 10-2 0v4a1 1 0 102 0V7z"
                      clip-rule="evenodd"
                    />
                  </svg>
                  <span class="text-sm">åœæ­¢Node</span>
                </button>

                <button
                  id="refresh-guardian-btn"
                  onclick="window.refreshGuardianStatus && window.refreshGuardianStatus('manual')"
                  class="px-4 py-3 bg-slate-100 text-slate-700 font-medium rounded-xl hover:bg-slate-200 transition-all duration-200 flex items-center justify-center shadow-md hover:shadow-lg"
                  title="æ‰‹åŠ¨åˆ·æ–°é˜²æŠ¤çŠ¶æ€å’Œç»Ÿè®¡æ•°æ®"
                >
                  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path
                      fill-rule="evenodd"
                      d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z"
                      clip-rule="evenodd"
                    />
                  </svg>
                </button>
              </div>
            </div>

            <!-- æ‰©å±•ä¿¡æ¯ -->
            <div class="card rounded-2xl p-6 shadow-sm">
              <div class="flex items-center gap-3 mb-4">
                <div
                  class="w-10 h-10 bg-gradient-to-br from-cyan-500 to-cyan-600 rounded-xl flex items-center justify-center"
                >
                  <svg
                    class="w-5 h-5 text-white"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z"
                    />
                  </svg>
                </div>
                <div>
                  <h3 class="font-medium text-slate-800">æ‰©å±•ä¿¡æ¯</h3>
                  <p class="text-sm text-slate-500">Augmentæ‰©å±•</p>
                </div>
              </div>
              <div id="augment-info" class="text-sm text-slate-600 mb-4">
                <p>æ­£åœ¨è·å–æ‰©å±•ä¿¡æ¯...</p>
              </div>
              <button
                onclick="refreshAllClientData()"
                class="w-full px-4 py-2 bg-cyan-500 text-white font-medium rounded-lg hover:bg-cyan-600 transition-colors"
                title="åˆ·æ–°æ•´ä¸ªå®¢æˆ·ç«¯æ•°æ®"
              >
                åˆ·æ–°å…¨éƒ¨æ•°æ®
              </button>
            </div>
            <!-- æ›´æ–°æ£€æŸ¥ -->
            <div class="card rounded-2xl p-6 shadow-sm">
              <div class="flex items-center gap-3 mb-4">
                <div
                  class="w-10 h-10 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-xl flex items-center justify-center"
                >
                  <svg
                    class="w-5 h-5 text-white"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z"
                    />
                  </svg>
                </div>
                <div>
                  <h3 class="font-medium text-slate-800">æ£€æŸ¥æ›´æ–°</h3>
                  <p class="text-sm text-slate-500">åº”ç”¨ç¨‹åºæ›´æ–°</p>
                </div>
              </div>
              <p class="text-sm text-slate-600 mb-4">
                æ£€æŸ¥å¹¶å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„è®¾å¤‡ç®¡ç†å™¨ã€‚
              </p>
              <button
                onclick="checkForUpdates()"
                class="w-full px-4 py-2 bg-indigo-500 text-white font-medium rounded-lg hover:bg-indigo-600 transition-colors"
              >
                æ£€æŸ¥æ›´æ–°
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- ç³»ç»Ÿæ ‡ç­¾é¡µ -->
      <div id="system-tab" class="tab-content">
        <div class="grid lg:grid-cols-2 gap-6">
          <!-- ç³»ç»Ÿæ€§èƒ½ -->
          <div class="card rounded-2xl p-6 shadow-sm">
            <div class="flex items-center gap-3 mb-6">
              <div
                class="w-10 h-10 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl flex items-center justify-center"
              >
                <svg
                  class="w-5 h-5 text-white"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"
                  />
                </svg>
              </div>
              <div>
                <h3 class="font-medium text-slate-800">ç³»ç»Ÿæ€§èƒ½</h3>
                <p class="text-sm text-slate-500">å®æ—¶ç›‘æ§</p>
              </div>
            </div>

            <!-- æ€§èƒ½æŒ‡æ ‡ -->
            <div class="space-y-6">
              <div>
                <div class="flex justify-between items-center mb-2">
                  <span class="text-sm font-medium text-slate-700"
                    >CPUä½¿ç”¨ç‡</span
                  >
                  <span
                    id="cpu-text-detail"
                    class="text-sm font-semibold text-slate-900"
                    >0%</span
                  >
                </div>
                <div class="w-full bg-slate-200 rounded-full h-3">
                  <div
                    id="cpu-progress-detail"
                    class="bg-gradient-to-r from-emerald-400 to-emerald-500 h-3 rounded-full transition-all duration-500"
                    style="width: 0%"
                  ></div>
                </div>
              </div>

              <div>
                <div class="flex justify-between items-center mb-2">
                  <span class="text-sm font-medium text-slate-700"
                    >å†…å­˜ä½¿ç”¨ç‡</span
                  >
                  <span
                    id="memory-text-detail"
                    class="text-sm font-semibold text-slate-900"
                    >0%</span
                  >
                </div>
                <div class="w-full bg-slate-200 rounded-full h-3">
                  <div
                    id="memory-progress-detail"
                    class="bg-gradient-to-r from-blue-400 to-blue-500 h-3 rounded-full transition-all duration-500"
                    style="width: 0%"
                  ></div>
                </div>
              </div>

              <div>
                <div class="flex justify-between items-center mb-2">
                  <span class="text-sm font-medium text-slate-700"
                    >ç£ç›˜ä½¿ç”¨ç‡</span
                  >
                  <span
                    id="disk-text"
                    class="text-sm font-semibold text-slate-900"
                    >57%</span
                  >
                </div>
                <div class="w-full bg-slate-200 rounded-full h-3">
                  <div
                    id="disk-progress"
                    class="bg-gradient-to-r from-purple-400 to-purple-500 h-3 rounded-full transition-all duration-500"
                    style="width: 57%"
                  ></div>
                </div>
              </div>
            </div>

            <!-- ç³»ç»Ÿè¯¦æƒ… -->
            <div class="mt-6 pt-6 border-t border-slate-200">
              <div class="grid grid-cols-3 gap-4 text-sm">
                <div class="text-center">
                  <p class="text-slate-500 mb-1">ä¸»æœºå</p>
                  <p id="hostname-text" class="font-medium text-slate-800">
                    ZK
                  </p>
                </div>
                <div class="text-center">
                  <p class="text-slate-500 mb-1">ç³»ç»Ÿè¿è¡Œæ—¶é—´</p>
                  <p id="uptime-text-system" class="font-medium text-slate-800">
                    20å°æ—¶42åˆ†é’Ÿ
                  </p>
                </div>
                <div class="text-center">
                  <p class="text-slate-500 mb-1">è½¯ä»¶è¿è¡Œæ—¶é—´</p>
                  <p id="app-uptime-text" class="font-medium text-slate-800">
                    2å°æ—¶15åˆ†é’Ÿ
                  </p>
                </div>
                <div class="text-center">
                  <p class="text-slate-500 mb-1">CPUæ ¸å¿ƒ</p>
                  <p id="cpu-cores-text" class="font-medium text-slate-800">
                    12æ ¸
                  </p>
                </div>
                <div class="text-center">
                  <p class="text-slate-500 mb-1">æ€»å†…å­˜</p>
                  <p
                    id="total-memory-text-system"
                    class="font-medium text-slate-800"
                  >
                    15.81GB
                  </p>
                </div>
              </div>

              <!-- è®¾å¤‡ID -->
              <div class="mt-4 pt-4 border-t border-slate-200">
                <div class="text-center">
                  <!-- è¯¦ç»†è®¾å¤‡IDä¿¡æ¯å±•ç¤º -->
                  <div class="mt-6 p-4 bg-gray-50 rounded-lg border">
                    <h4
                      class="text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2"
                    >
                      <svg
                        class="w-4 h-4"
                        fill="currentColor"
                        viewBox="0 0 20 20"
                      >
                        <path
                          d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"
                        />
                      </svg>
                      è®¾å¤‡æ ‡è¯†ç¬¦è¯¦æƒ…
                    </h4>

                    <!-- ç¨³å®šè®¾å¤‡ID -->
                    <div class="mb-3">
                      <div class="flex justify-between items-center mb-1">
                        <div class="flex items-center gap-1">
                          <span class="text-xs font-medium text-gray-600"
                            >ç¨³å®šè®¾å¤‡ID</span
                          >
                          <svg
                            class="w-3 h-3 text-gray-400 cursor-help"
                            fill="currentColor"
                            viewBox="0 0 20 20"
                            data-tooltip="âš™ï¸ ç”Ÿæˆæ–¹å¼
åŸºäºçœŸå®ç¡¬ä»¶ä¿¡æ¯ç”Ÿæˆ SHA256 å“ˆå¸Œ

ğŸ“Š æ•°æ®æ¥æº
â€¢ os.platform() - æ“ä½œç³»ç»Ÿå¹³å°
â€¢ os.arch() - ç³»ç»Ÿæ¶æ„
â€¢ os.hostname() - ä¸»æœºå
â€¢ os.cpus() - CPUä¿¡æ¯
â€¢ os.totalmem() - å†…å­˜å¤§å°
â€¢ os.userInfo().username - ç”¨æˆ·å
â€¢ os.networkInterfaces() - ç½‘ç»œæ¥å£MACåœ°å€

ğŸ¯ ç”¨é€”
è®¾å¤‡è¯†åˆ«ï¼Œç¡®ä¿åŒä¸€è®¾å¤‡IDç¨³å®š

ğŸ§¹ æ¸…ç†æ•ˆæœ
åˆ é™¤ç¼“å­˜åé‡æ–°ç”Ÿæˆæ–°çš„è®¾å¤‡ID"
                          >
                            <path
                              fill-rule="evenodd"
                              d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                              clip-rule="evenodd"
                            />
                          </svg>
                        </div>
                        <span
                          id="stable-id-cleanable"
                          class="px-2 py-1 text-xs rounded bg-blue-100 text-blue-800"
                          >å¯æ¸…ç†</span
                        >
                      </div>
                      <div
                        class="font-mono text-xs text-gray-800 bg-white border px-2 py-1 rounded break-all cursor-pointer hover:bg-gray-50"
                        title="ç‚¹å‡»å¤åˆ¶å®Œæ•´è®¾å¤‡ID"
                      >
                        <span id="stable-device-id">è·å–ä¸­...</span>
                      </div>
                    </div>

                    <!-- è®¾å¤‡æŒ‡çº¹ -->
                    <div class="mb-3">
                      <div class="flex justify-between items-center mb-1">
                        <div class="flex items-center gap-1">
                          <span class="text-xs font-medium text-gray-600"
                            >è®¾å¤‡æŒ‡çº¹</span
                          >
                          <svg
                            class="w-3 h-3 text-gray-400 cursor-help"
                            fill="currentColor"
                            viewBox="0 0 20 20"
                            data-tooltip="ğŸ” ç”Ÿæˆæ–¹å¼
é«˜çº§è®¾å¤‡æ£€æµ‹ç”Ÿæˆçš„æŒ‡çº¹

ğŸ“Š æ•°æ®æ¥æº
â€¢ åŸºç¡€ç¡¬ä»¶ä¿¡æ¯ï¼ˆCPUã€å†…å­˜ã€ç³»ç»Ÿæ¶æ„ï¼‰
â€¢ è¯¦ç»†ç³»ç»Ÿç‰¹å¾å’Œç¯å¢ƒä¿¡æ¯
â€¢ ç½‘ç»œæ¥å£å’Œç¡¬ä»¶æ ‡è¯†ç¬¦
â€¢ æ“ä½œç³»ç»Ÿç‰ˆæœ¬å’Œé…ç½®ä¿¡æ¯
â€¢ è™šæ‹Ÿæœºæ£€æµ‹ç»“æœ

ğŸ¯ ç”¨é€”
æ¯”ç¨³å®šè®¾å¤‡IDåŒ…å«æ›´å¤šæ£€æµ‹ç‚¹
ç”¨äºç²¾ç¡®è®¾å¤‡è¯†åˆ«

ğŸ§¹ æ¸…ç†æ•ˆæœ
é‡æ–°æ”¶é›†ç¡¬ä»¶ä¿¡æ¯ç”Ÿæˆæ–°æŒ‡çº¹"
                          >
                            <path
                              fill-rule="evenodd"
                              d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                              clip-rule="evenodd"
                            />
                          </svg>
                        </div>
                        <span
                          id="fingerprint-cleanable"
                          class="px-2 py-1 text-xs rounded bg-blue-100 text-blue-800"
                          >å¯æ¸…ç†</span
                        >
                      </div>
                      <div
                        class="font-mono text-xs text-gray-800 bg-white border px-2 py-1 rounded break-all cursor-pointer hover:bg-gray-50"
                        title="ç‚¹å‡»å¤åˆ¶å®Œæ•´è®¾å¤‡æŒ‡çº¹"
                      >
                        <span id="device-fingerprint">è·å–ä¸­...</span>
                      </div>
                    </div>

                    <!-- è®¾å¤‡ç¼“å­˜çŠ¶æ€ -->
                    <div class="mb-3">
                      <div class="flex justify-between items-center mb-1">
                        <div class="flex items-center gap-1">
                          <span class="text-xs font-medium text-gray-600"
                            >è®¾å¤‡ç¼“å­˜</span
                          >
                          <svg
                            class="w-3 h-3 text-gray-400 cursor-help"
                            fill="currentColor"
                            viewBox="0 0 20 20"
                            data-tooltip="ğŸ’¾ ç¼“å­˜æœºåˆ¶
è®¾å¤‡IDçš„æœ¬åœ°ç¼“å­˜çŠ¶æ€

ğŸ“ å­˜å‚¨ä½ç½®
â€¢ ä¸»ç¼“å­˜ï¼šC:\Users\[ç”¨æˆ·å]\.augment-device-manager\stable-device-id.cache
â€¢ å¤‡ä»½ç¼“å­˜ï¼šC:\Users\[ç”¨æˆ·å]\.augment-device-manager\stable-device-id.backup

ğŸ¯ ä½œç”¨
ç¡®ä¿è®¾å¤‡IDåœ¨é‡å¯åä¿æŒç¨³å®š
é¿å…é¢‘ç¹é‡æ–°ç”Ÿæˆ

ğŸ§¹ æ¸…ç†æ•ˆæœ
åˆ é™¤æ‰€æœ‰ç¼“å­˜æ–‡ä»¶
ä¸‹æ¬¡å¯åŠ¨æ—¶é‡æ–°ç”Ÿæˆæ–°çš„è®¾å¤‡ID"
                          >
                            <path
                              fill-rule="evenodd"
                              d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                              clip-rule="evenodd"
                            />
                          </svg>
                        </div>
                        <span
                          id="cache-cleanable"
                          class="px-2 py-1 text-xs rounded bg-gray-100 text-gray-600"
                          >æ£€æŸ¥ä¸­</span
                        >
                      </div>
                      <div class="text-xs text-gray-700">
                        çŠ¶æ€:
                        <span
                          id="device-cache-status"
                          class="px-2 py-1 text-xs rounded bg-gray-100 text-gray-800"
                          title="ç¼“å­˜çŠ¶æ€è¯¦æƒ…ï¼šå·²ç¼“å­˜è¡¨ç¤ºè®¾å¤‡IDå·²ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶ï¼Œæ— ç¼“å­˜è¡¨ç¤ºéœ€è¦é‡æ–°ç”Ÿæˆ"
                          >æ£€æŸ¥ä¸­</span
                        >
                      </div>
                    </div>
                  </div>

                  <p class="text-xs text-slate-400 mt-2">
                    ğŸ’¡ æ¸…ç†æˆåŠŸåæ­¤IDä¼šå‘ç”Ÿå˜åŒ–
                  </p>
                </div>
              </div>
            </div>
          </div>

          <!-- è®¾å¤‡ä¿¡æ¯ -->
          <div class="card rounded-2xl p-6 shadow-sm">
            <div class="flex items-center gap-3 mb-6">
              <div
                class="w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center"
              >
                <svg
                  class="w-5 h-5 text-white"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    fill-rule="evenodd"
                    d="M3 5a2 2 0 012-2h10a2 2 0 012 2v8a2 2 0 01-2 2h-2.22l.123.489.804.804A1 1 0 0113 18H7a1 1 0 01-.707-1.707l.804-.804L7.22 15H5a2 2 0 01-2-2V5zm5.771 7H5V5h10v7H8.771z"
                  />
                </svg>
              </div>
              <div class="flex-1">
                <h3 class="font-medium text-slate-800">è®¾å¤‡ä¿¡æ¯</h3>
                <p class="text-sm text-slate-500">ç¡¬ä»¶è¯¦æƒ…</p>
              </div>
              <!-- ä¿¡æ¯æ¨¡å¼åˆ‡æ¢æŒ‰é’® -->
              <button
                id="info-mode-toggle"
                onclick="toggleInfoMode()"
                class="px-3 py-1 text-xs bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-full transition-colors"
                data-tooltip="åˆ‡æ¢æ˜¾ç¤ºæ¨¡å¼ï¼šè¯¦ç»†ä¿¡æ¯ â‡„ åŸºç¡€ä¿¡æ¯"
              >
                ç®€æ´
              </button>
            </div>

            <div id="device-info" class="space-y-3 text-sm">
              <!-- åŸºç¡€ä¿¡æ¯ -->
              <div class="flex justify-between">
                <span class="text-slate-600">æ“ä½œç³»ç»Ÿ</span>
                <span class="font-medium text-slate-800">-</span>
              </div>
              <div class="flex justify-between">
                <span class="text-slate-600">å¤„ç†å™¨</span>
                <span class="font-medium text-slate-800">-</span>
              </div>
              <div class="flex justify-between">
                <span class="text-slate-600">æ€»å†…å­˜</span>
                <span class="font-medium text-slate-800">-</span>
              </div>
              <div class="flex justify-between">
                <span class="text-slate-600">å¯ç”¨å†…å­˜</span>
                <span class="font-medium text-slate-800">-</span>
              </div>

              <!-- æ‰©å±•ä¿¡æ¯ -->
              <div
                id="extended-info"
                class="border-t border-slate-200 pt-3 mt-4"
              >
                <div class="flex justify-between">
                  <span class="text-slate-600">è¿è¡Œæ—¶é—´</span>
                  <span class="font-medium text-slate-800">-</span>
                </div>
                <div class="flex justify-between">
                  <span class="text-slate-600">ç½‘ç»œçŠ¶æ€</span>
                  <span class="font-medium text-slate-800">-</span>
                </div>
                <div class="flex justify-between">
                  <span class="text-slate-600">å½“å‰ç”¨æˆ·</span>
                  <span class="font-medium text-slate-800">-</span>
                </div>
                <div class="flex justify-between">
                  <span class="text-slate-600">Nodeç‰ˆæœ¬</span>
                  <span class="font-medium text-slate-800">-</span>
                </div>
              </div>

              <!-- è¿›ç¨‹ä¿¡æ¯ -->
              <div
                id="process-info"
                class="border-t border-slate-200 pt-3 mt-4"
              >
                <h4 class="font-medium text-slate-700 mb-2">è¿›ç¨‹ä¿¡æ¯</h4>
                <div class="flex justify-between">
                  <span class="text-slate-600">è¿›ç¨‹ID</span>
                  <span class="font-medium text-slate-800">-</span>
                </div>
                <div class="flex justify-between">
                  <span class="text-slate-600">åº”ç”¨å†…å­˜</span>
                  <span class="font-medium text-slate-800">-</span>
                </div>
                <div class="flex justify-between">
                  <span class="text-slate-600">åº”ç”¨CPU</span>
                  <span class="font-medium text-slate-800">-</span>
                </div>
              </div>

              <!-- Cursor IDE é¥æµ‹æ ‡è¯†ç¬¦ -->
              <div
                class="mt-6 p-4 bg-purple-50 rounded-lg border border-purple-200"
              >
                <div class="flex items-center justify-between mb-3">
                  <div class="flex items-center gap-2">
                    <svg
                      class="w-4 h-4 text-purple-700"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                    >
                      <path
                        d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"
                      />
                    </svg>
                    <h4 class="text-sm font-semibold text-purple-700">
                      Cursor IDE é¥æµ‹æ ‡è¯†ç¬¦
                    </h4>
                    <svg
                      class="w-3 h-3 text-purple-400 cursor-help"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                      data-tooltip="ğŸ“ æ•°æ®æ¥æº
ç›´æ¥ä» Cursor IDE é…ç½®æ–‡ä»¶è¯»å–

ğŸ“ å­˜å‚¨ä½ç½®
C:\Users\[ç”¨æˆ·å]\AppData\Roaming\Cursor\User\globalStorage\storage.json

ğŸ”‘ åŒ…å«çš„çœŸå®ID
â€¢ devDeviceId - Cursorä¸»è®¾å¤‡æ ‡è¯†ç¬¦
â€¢ machineId - æœºå™¨å”¯ä¸€æ ‡è¯†ç¬¦
â€¢ macMachineId - MACåœ°å€ç›¸å…³æœºå™¨ID
â€¢ sessionId - ä¼šè¯æ ‡è¯†ç¬¦
â€¢ sqmId - è½¯ä»¶è´¨é‡ç›‘æ§ID

ğŸ§¹ æ¸…ç†æ•ˆæœ
é‡å†™ storage.json æ–‡ä»¶ï¼Œç”Ÿæˆå…¨æ–°çš„é¥æµ‹æ ‡è¯†ç¬¦
è®© Cursor IDE è®¤ä¸ºæ˜¯æ–°è®¾å¤‡"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                        clip-rule="evenodd"
                      />
                    </svg>
                  </div>
                  <span
                    id="cursor-telemetry-cleanable"
                    class="px-2 py-1 text-xs rounded bg-purple-100 text-purple-800"
                    >å¯æ¸…ç†</span
                  >
                </div>

                <!-- ä¸»è®¾å¤‡ID -->
                <div class="mb-2">
                  <div class="flex items-center gap-1 mb-1">
                    <span class="text-xs font-medium text-purple-600"
                      >ä¸»è®¾å¤‡ID (devDeviceId)</span
                    >
                    <svg
                      class="w-3 h-3 text-purple-400 cursor-help"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                      data-tooltip="ğŸ”‘ telemetry.devDeviceId
Cursor IDE çš„ä¸»è¦è®¾å¤‡æ ‡è¯†ç¬¦

ğŸ¯ ç”¨é€”
ç”¨æˆ·è¯†åˆ«å’Œæ‰©å±•æˆæƒéªŒè¯

ğŸ“‹ æ ¼å¼
UUIDæ ¼å¼çš„å”¯ä¸€æ ‡è¯†ç¬¦

ğŸ§¹ æ¸…ç†å
ç”Ÿæˆæ–°çš„UUIDï¼Œæ‰©å±•å°†è®¤ä¸ºæ˜¯æ–°è®¾å¤‡"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                        clip-rule="evenodd"
                      />
                    </svg>
                  </div>
                  <div
                    class="font-mono text-xs text-purple-800 bg-white border border-purple-200 px-2 py-1 rounded break-all cursor-pointer hover:bg-purple-50"
                    title="ç‚¹å‡»å¤åˆ¶å®Œæ•´è®¾å¤‡ID"
                  >
                    <span id="cursor-dev-device-id">è·å–ä¸­...</span>
                  </div>
                </div>

                <!-- æœºå™¨ID -->
                <div class="mb-2">
                  <div class="flex items-center gap-1 mb-1">
                    <span class="text-xs font-medium text-purple-600"
                      >æœºå™¨ID (machineId)</span
                    >
                    <svg
                      class="w-3 h-3 text-purple-400 cursor-help"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                      data-tooltip="ğŸ–¥ï¸ telemetry.machineId
æœºå™¨å”¯ä¸€æ ‡è¯†ç¬¦

ğŸ¯ ç”¨é€”
ç¡¬ä»¶çº§åˆ«çš„è®¾å¤‡è¯†åˆ«

ğŸ“‹ æ ¼å¼
UUIDæ ¼å¼

ğŸ§¹ æ¸…ç†å
ç”Ÿæˆæ–°çš„æœºå™¨IDï¼Œæ”¹å˜ç¡¬ä»¶æŒ‡çº¹"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                        clip-rule="evenodd"
                      />
                    </svg>
                  </div>
                  <div
                    class="font-mono text-xs text-purple-800 bg-white border border-purple-200 px-2 py-1 rounded break-all cursor-pointer hover:bg-purple-50"
                    title="ç‚¹å‡»å¤åˆ¶å®Œæ•´æœºå™¨ID"
                  >
                    <span id="cursor-machine-id">è·å–ä¸­...</span>
                  </div>
                </div>

                <!-- MACæœºå™¨ID -->
                <div class="mb-2">
                  <div class="flex items-center gap-1 mb-1">
                    <span class="text-xs font-medium text-purple-600"
                      >MACæœºå™¨ID (macMachineId)</span
                    >
                    <svg
                      class="w-3 h-3 text-purple-400 cursor-help"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                      data-tooltip="ğŸŒ telemetry.macMachineId
MACåœ°å€ç›¸å…³æœºå™¨ID

ğŸ¯ ç”¨é€”
åŸºäºç½‘ç»œæ¥å£çš„è®¾å¤‡è¯†åˆ«

ğŸ“‹ æ ¼å¼
UUIDæ ¼å¼

ğŸ§¹ æ¸…ç†å
ç”Ÿæˆæ–°çš„MACæœºå™¨ID
æ”¹å˜ç½‘ç»œå±‚é¢çš„è®¾å¤‡æ ‡è¯†"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                        clip-rule="evenodd"
                      />
                    </svg>
                  </div>
                  <div
                    class="font-mono text-xs text-purple-800 bg-white border border-purple-200 px-2 py-1 rounded break-all cursor-pointer hover:bg-purple-50"
                    title="ç‚¹å‡»å¤åˆ¶å®Œæ•´MACæœºå™¨ID"
                  >
                    <span id="cursor-mac-machine-id">è·å–ä¸­...</span>
                  </div>
                </div>

                <!-- ä¼šè¯ID -->
                <div class="mb-2">
                  <div class="flex items-center gap-1 mb-1">
                    <span class="text-xs font-medium text-purple-600"
                      >ä¼šè¯ID (sessionId)</span
                    >
                    <svg
                      class="w-3 h-3 text-purple-400 cursor-help"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                      data-tooltip="ğŸ“± telemetry.sessionId
ä¼šè¯æ ‡è¯†ç¬¦

ğŸ¯ ç”¨é€”
è·Ÿè¸ªç”¨æˆ·ä¼šè¯å’Œæ´»åŠ¨çŠ¶æ€

ğŸ“‹ æ ¼å¼
UUIDæ ¼å¼

ğŸ§¹ æ¸…ç†å
ç”Ÿæˆæ–°çš„ä¼šè¯IDï¼Œé‡ç½®ä¼šè¯çŠ¶æ€"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                        clip-rule="evenodd"
                      />
                    </svg>
                  </div>
                  <div
                    class="font-mono text-xs text-purple-800 bg-white border border-purple-200 px-2 py-1 rounded break-all cursor-pointer hover:bg-purple-50"
                    title="ç‚¹å‡»å¤åˆ¶å®Œæ•´ä¼šè¯ID"
                  >
                    <span id="cursor-session-id">è·å–ä¸­...</span>
                  </div>
                </div>

                <!-- SQM ID -->
                <div class="mb-2">
                  <div class="flex items-center gap-1 mb-1">
                    <span class="text-xs font-medium text-purple-600"
                      >SQM ID (sqmId)</span
                    >
                    <svg
                      class="w-3 h-3 text-purple-400 cursor-help"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                      data-tooltip="ğŸ“Š telemetry.sqmId
è½¯ä»¶è´¨é‡ç›‘æ§ID

ğŸ¯ ç”¨é€”
è½¯ä»¶è´¨é‡æ•°æ®æ”¶é›†å’Œåˆ†æ

ğŸ“‹ æ ¼å¼
GUIDæ ¼å¼ï¼ˆå¤§æ‹¬å·åŒ…å›´ï¼‰

ğŸ§¹ æ¸…ç†å
ç”Ÿæˆæ–°çš„SQM ID
é‡ç½®è´¨é‡ç›‘æ§æ•°æ®"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                        clip-rule="evenodd"
                      />
                    </svg>
                  </div>
                  <div
                    class="font-mono text-xs text-purple-800 bg-white border border-purple-200 px-2 py-1 rounded break-all cursor-pointer hover:bg-purple-50"
                    title="ç‚¹å‡»å¤åˆ¶å®Œæ•´SQM ID"
                  >
                    <span id="cursor-sqm-id">è·å–ä¸­...</span>
                  </div>
                </div>

                <div
                  class="text-xs text-purple-600 mt-2 flex items-center gap-1"
                >
                  <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
                    <path
                      fill-rule="evenodd"
                      d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                      clip-rule="evenodd"
                    />
                  </svg>
                  è¿™äº›IDç”¨äºCursor IDEçš„ç”¨æˆ·è¯†åˆ«å’Œé¥æµ‹æ•°æ®æ”¶é›†
                </div>
              </div>
            </div>

            <div class="flex gap-2 mt-4">
              <button
                onclick="refreshAllClientData()"
                class="flex-1 px-4 py-2 bg-blue-500 text-white font-medium rounded-lg hover:bg-blue-600 transition-colors"
                title="åˆ·æ–°æ•´ä¸ªå®¢æˆ·ç«¯æ•°æ®"
              >
                åˆ·æ–°å…¨éƒ¨æ•°æ®
              </button>
              <button
                onclick="exportSystemInfo()"
                class="px-4 py-2 bg-slate-500 text-white font-medium rounded-lg hover:bg-slate-600 transition-colors"
              >
                å¯¼å‡º
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- å…¬å‘Šå†å²è®°å½•å¼¹çª— -->
    <div
      id="announcement-history-modal"
      class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 opacity-0 hidden transition-all duration-300"
      onclick="closeAnnouncementHistory(event)"
    >
      <div
        class="bg-white/95 backdrop-blur-lg rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden scale-95 transition-all duration-300"
        onclick="event.stopPropagation()"
      >
        <!-- å¼¹çª—å¤´éƒ¨ -->
        <div
          class="flex items-center justify-between p-6 border-b border-slate-200/50"
        >
          <div class="flex items-center gap-3">
            <div
              class="w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center"
            >
              <svg
                class="w-5 h-5 text-white"
                fill="currentColor"
                viewBox="0 0 20 20"
              >
                <path
                  d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"
                />
                <path
                  d="M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"
                />
              </svg>
            </div>
            <div>
              <h3 class="text-lg font-semibold text-slate-800">å…¬å‘Šå†å²è®°å½•</h3>
              <p class="text-sm text-slate-500">
                å…± <span id="announcement-count">0</span> æ¡è®°å½•
              </p>
            </div>
          </div>
          <button
            onclick="closeAnnouncementHistory()"
            class="p-2 hover:bg-slate-100 rounded-lg transition-colors"
          >
            <svg
              class="w-5 h-5 text-slate-400"
              fill="currentColor"
              viewBox="0 0 20 20"
            >
              <path
                fill-rule="evenodd"
                d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                clip-rule="evenodd"
              />
            </svg>
          </button>
        </div>

        <!-- å¼¹çª—å†…å®¹ -->
        <div class="p-6 overflow-y-auto max-h-[60vh]">
          <div id="announcement-history-content">
            <!-- å†å²è®°å½•å†…å®¹å°†åœ¨è¿™é‡ŒåŠ¨æ€åŠ è½½ -->
          </div>
        </div>

        <!-- å¼¹çª—åº•éƒ¨ -->
        <div
          class="flex items-center justify-between p-6 border-t border-slate-200/50 bg-slate-50/50"
        >
          <div class="text-sm text-slate-500">
            å†å²è®°å½•ä¼šè‡ªåŠ¨ä¿å­˜æœ€è¿‘100æ¡å…¬å‘Š
          </div>
          <button
            onclick="clearAnnouncementHistory()"
            class="px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors text-sm font-medium"
          >
            æ¸…ç©ºå†å²
          </button>
        </div>
      </div>
    </div>

    <!-- é¡µè„š -->
    <footer class="text-center mt-16 py-8 border-t border-slate-200">
      <p class="text-slate-400 text-sm">Â© 2025 Augment Team. ä¿ç•™æ‰€æœ‰æƒåˆ©.</p>
    </footer>

    <script>
      // ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½
      function toggleTheme() {
        // åˆ‡æ¢åˆ°ä¸°å¯Œé£æ ¼ (index-original.html)
        if (confirm("ç¡®å®šè¦åˆ‡æ¢åˆ°ä¸°å¯Œé£æ ¼å—ï¼Ÿ")) {
          window.location.href = "index-original.html";
        }
      }

      // å…¬å‘Šå†å²è®°å½•ç®¡ç†
      let announcementHistory = JSON.parse(
        localStorage.getItem("announcementHistory") || "[]"
      );

      // æ˜¾ç¤ºå…¬å‘Šå†å²è®°å½•
      function toggleAnnouncementHistory() {
        const modal = document.getElementById("announcement-history-modal");
        const content = document.getElementById("announcement-history-content");
        const count = document.getElementById("announcement-count");

        // æ›´æ–°è®¡æ•°
        count.textContent = announcementHistory.length;

        // ç”Ÿæˆå†å²è®°å½•HTML
        if (announcementHistory.length === 0) {
          content.innerHTML = `
            <div class="text-center py-12">
              <div class="w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <svg class="w-8 h-8 text-slate-400" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"/>
                </svg>
              </div>
              <p class="text-slate-500">æš‚æ— å…¬å‘Šå†å²è®°å½•</p>
            </div>
          `;
        } else {
          content.innerHTML = announcementHistory
            .map(
              (announcement, index) => `
            <div class="mb-4 p-4 bg-slate-50 rounded-xl border border-slate-200 hover:bg-slate-100 transition-colors">
              <div class="flex items-start justify-between mb-2">
                <div class="flex items-center gap-2">
                  <span class="text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded-full font-medium">
                    #${announcementHistory.length - index}
                  </span>
                  <span class="text-sm text-slate-500">${
                    announcement.timestamp
                  }</span>
                </div>
                <button
                  onclick="removeAnnouncement(${index})"
                  class="text-slate-400 hover:text-red-500 transition-colors"
                  title="åˆ é™¤æ­¤æ¡è®°å½•"
                >
                  <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
                  </svg>
                </button>
              </div>
              <div class="text-slate-700 leading-relaxed">${
                announcement.content
              }</div>
            </div>
          `
            )
            .join("");
        }

        // æ˜¾ç¤ºå¼¹çª—
        modal.classList.remove("hidden");
        setTimeout(() => {
          modal.classList.remove("opacity-0");
          modal.querySelector(".bg-white\\/95").classList.remove("scale-95");
        }, 10);
      }

      // å…³é—­å…¬å‘Šå†å²è®°å½•
      function closeAnnouncementHistory(event) {
        if (event && event.target !== event.currentTarget) return;

        const modal = document.getElementById("announcement-history-modal");
        modal.classList.add("opacity-0");
        modal.querySelector(".bg-white\\/95").classList.add("scale-95");

        setTimeout(() => {
          modal.classList.add("hidden");
        }, 300);
      }

      // æ·»åŠ å…¬å‘Šåˆ°å†å²è®°å½•
      function addAnnouncementToHistory(content) {
        const announcement = {
          content: content,
          timestamp: new Date().toLocaleString("zh-CN"),
          id: Date.now(),
        };

        announcementHistory.unshift(announcement);

        // é™åˆ¶å†å²è®°å½•æ•°é‡ä¸º100æ¡
        if (announcementHistory.length > 100) {
          announcementHistory = announcementHistory.slice(0, 100);
        }

        // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
        localStorage.setItem(
          "announcementHistory",
          JSON.stringify(announcementHistory)
        );

        // æ›´æ–°å¾½ç« 
        updateAnnouncementBadge();
      }

      // åˆ é™¤å•æ¡å…¬å‘Šè®°å½•
      function removeAnnouncement(index) {
        if (confirm("ç¡®å®šè¦åˆ é™¤è¿™æ¡å…¬å‘Šè®°å½•å—ï¼Ÿ")) {
          announcementHistory.splice(index, 1);
          localStorage.setItem(
            "announcementHistory",
            JSON.stringify(announcementHistory)
          );
          toggleAnnouncementHistory(); // åˆ·æ–°æ˜¾ç¤º
          updateAnnouncementBadge();
        }
      }

      // æ¸…ç©ºå…¬å‘Šå†å²
      function clearAnnouncementHistory() {
        if (confirm("ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰å…¬å‘Šå†å²è®°å½•å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚")) {
          announcementHistory = [];
          localStorage.setItem(
            "announcementHistory",
            JSON.stringify(announcementHistory)
          );
          toggleAnnouncementHistory(); // åˆ·æ–°æ˜¾ç¤º
          updateAnnouncementBadge();
        }
      }

      // æ›´æ–°å…¬å‘Šå¾½ç« 
      function updateAnnouncementBadge() {
        const badge = document.getElementById("announcement-badge");
        if (announcementHistory.length > 0) {
          badge.textContent = announcementHistory.length;
          badge.classList.remove("hidden");
        } else {
          badge.classList.add("hidden");
        }
      }

      // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
      document.addEventListener("DOMContentLoaded", function () {
        // æ›´æ–°ä¸»é¢˜åˆ‡æ¢æŒ‰é’®çš„æç¤ºæ–‡æœ¬
        const themeBtn = document.getElementById("theme-toggle-btn");
        if (themeBtn) {
          themeBtn.title = "åˆ‡æ¢åˆ°ä¸°å¯Œé£æ ¼";
        }

        // åˆå§‹åŒ–å…¬å‘Šå¾½ç« 
        updateAnnouncementBadge();

        // ç›‘å¬æ¥è‡ªrenderer.jsçš„å…¬å‘Š
        window.addEventListener("new-announcement", (event) => {
          addAnnouncementToHistory(event.detail.content);
        });

        // åˆ é™¤é‡å¤çš„refreshGuardianStatuså‡½æ•°å®šä¹‰ï¼Œä½¿ç”¨renderer.jsä¸­çš„ç‰ˆæœ¬

        window.updateGuardianStatusPanel = function (status) {
          // æ›´æ–°é˜²æŠ¤æ¨¡å¼æ˜¾ç¤ºï¼ˆè¯¦ç»†é¢æ¿ï¼‰
          const modeElement = document.getElementById("guardian-panel-mode");
          if (modeElement) {
            if (status.isRunning) {
              modeElement.textContent = "é˜²æŠ¤æ¨¡å¼ï¼šç‹¬ç«‹æœåŠ¡ï¼ˆæŒä¹…é˜²æŠ¤ï¼‰";
              modeElement.className = "text-sm text-emerald-600 font-medium";
            } else {
              modeElement.textContent = "é˜²æŠ¤æ¨¡å¼ï¼šæœªå¯åŠ¨";
              modeElement.className = "text-sm text-slate-500";
            }
          }

          // æ›´æ–°å·¥å…·é¡µé¢çš„é˜²æŠ¤çŠ¶æ€
          const guardianStatus = document.getElementById("guardian-status");
          const persistentInfo = document.getElementById(
            "guardian-persistent-info"
          );

          if (guardianStatus) {
            if (status.isGuarding) {
              guardianStatus.textContent =
                status.mode === "standalone"
                  ? "ç‹¬ç«‹æœåŠ¡è¿è¡Œä¸­"
                  : "å†…ç½®è¿›ç¨‹è¿è¡Œä¸­";
              guardianStatus.className =
                "px-2 py-1 text-xs rounded-full bg-emerald-100 text-emerald-600";

              // æ˜¾ç¤ºæŒç»­é˜²æŠ¤è¯´æ˜ï¼ˆä»…ç‹¬ç«‹æœåŠ¡æ¨¡å¼ï¼‰
              if (persistentInfo) {
                if (status.mode === "standalone") {
                  persistentInfo.style.display = "block";
                } else {
                  persistentInfo.style.display = "none";
                }
              }
            } else {
              guardianStatus.textContent = "æœªå¯åŠ¨";
              guardianStatus.className =
                "px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-600";

              // éšè—æŒç»­é˜²æŠ¤è¯´æ˜
              if (persistentInfo) {
                persistentInfo.style.display = "none";
              }
            }
          }

          // æ›´æ–°ç»Ÿè®¡æ•°æ®ï¼ˆè¯¦ç»†é¢æ¿ï¼‰
          const interceptCount = document.getElementById(
            "panel-intercept-count"
          );
          const backupRemoved = document.getElementById("panel-backup-removed");
          const protectionRestored = document.getElementById(
            "panel-protection-restored"
          );

          if (interceptCount)
            interceptCount.textContent = status.stats?.interceptCount || 0;
          if (backupRemoved)
            backupRemoved.textContent = status.stats?.backupRemoved || 0;
          if (protectionRestored)
            protectionRestored.textContent =
              status.stats?.protectionRestored || 0;

          // æ›´æ–°å·¥å…·é¡µé¢çš„ç»Ÿè®¡æ•°æ®
          const toolsInterceptCount =
            document.getElementById("intercept-count");
          const toolsBackupRemoved = document.getElementById("backup-removed");
          const toolsProtectionRestored = document.getElementById(
            "protection-restored"
          );

          // ç»Ÿä¸€ä½¿ç”¨renderer.jsä¸­çš„æ•°æ®ç»“æ„
          let stats = {
            interceptedAttempts: 0,
            backupFilesRemoved: 0,
            protectionRestored: 0,
          };

          if (
            status.standalone &&
            status.standalone.isRunning &&
            status.standalone.recentLogs
          ) {
            // ä»ç‹¬ç«‹æœåŠ¡æ—¥å¿—è§£æç»Ÿè®¡
            stats = parseStatsFromLogs(status.standalone.recentLogs);
          } else if (status.inProcess && status.inProcess.stats) {
            // ä»å†…ç½®è¿›ç¨‹ç›´æ¥è·å–ç»Ÿè®¡
            stats = {
              interceptedAttempts:
                status.inProcess.stats.interceptedAttempts || 0,
              backupFilesRemoved:
                status.inProcess.stats.backupFilesRemoved || 0,
              protectionRestored:
                status.inProcess.stats.protectionRestored || 0,
            };
          }

          if (toolsInterceptCount)
            toolsInterceptCount.textContent = stats.interceptedAttempts;
          if (toolsBackupRemoved)
            toolsBackupRemoved.textContent = stats.backupFilesRemoved;
          if (toolsProtectionRestored)
            toolsProtectionRestored.textContent = stats.protectionRestored;

          // æ›´æ–°æœ€è¿‘æ‹¦æˆªè®°å½•
          updateRecentIntercepts(status.recentIntercepts || []);
        };

        // ä»æ—¥å¿—è§£æç»Ÿè®¡ä¿¡æ¯ï¼ˆä¸renderer.jsä¿æŒä¸€è‡´ï¼‰
        function parseStatsFromLogs(logs) {
          const stats = {
            interceptedAttempts: 0,
            backupFilesRemoved: 0,
            protectionRestored: 0,
          };

          if (!logs || !Array.isArray(logs)) {
            return stats;
          }

          logs.forEach((logEntry) => {
            // å¤„ç†ä¸åŒæ ¼å¼çš„æ—¥å¿—æ¡ç›®
            let logText = "";
            if (typeof logEntry === "string") {
              logText = logEntry;
            } else if (logEntry && typeof logEntry === "object") {
              // å¤„ç†å¯¹è±¡æ ¼å¼çš„æ—¥å¿—
              logText =
                logEntry.message ||
                logEntry.text ||
                logEntry.content ||
                JSON.stringify(logEntry);
            }

            // æ‹¦æˆªç›¸å…³å…³é”®è¯ï¼ˆåŒ…æ‹¬ä¿æŠ¤æ¢å¤äº‹ä»¶ï¼‰
            if (
              logText.includes("æ‹¦æˆª") ||
              logText.includes("æ£€æµ‹åˆ°") ||
              logText.includes("é˜»æ­¢") ||
              logText.includes("ä¿®æ”¹è¢«æ‹¦æˆª") ||
              logText.includes("IDEå°è¯•") ||
              logText.includes("å·²æ‹¦æˆª") ||
              logText.includes("ä¿æŠ¤æ¢å¤äº‹ä»¶") ||
              logText.includes("è®¾å¤‡IDå·²æ¢å¤") ||
              logText.includes("è®¾å¤‡IDè¢«ç¯¡æ”¹")
            ) {
              stats.interceptedAttempts++;
            }

            // åˆ é™¤å¤‡ä»½ç›¸å…³å…³é”®è¯
            if (
              logText.includes("åˆ é™¤å¤‡ä»½") ||
              logText.includes("å·²åˆ é™¤") ||
              logText.includes("å¤‡ä»½æ–‡ä»¶") ||
              logText.includes("æ¸…ç†å¤‡ä»½") ||
              logText.includes("å®æ—¶åˆ é™¤å¤‡ä»½")
            ) {
              stats.backupFilesRemoved++;
            }

            // æ¢å¤ä¿æŠ¤ç›¸å…³å…³é”®è¯
            if (
              logText.includes("æ¢å¤") ||
              logText.includes("å·²æ¢å¤") ||
              logText.includes("ä¿æŠ¤æ¢å¤") ||
              logText.includes("é‡æ–°ä¿æŠ¤") ||
              logText.includes("è®¾å¤‡IDå·²æ¢å¤")
            ) {
              stats.protectionRestored++;
            }
          });

          return stats;
        }

        window.updateRecentIntercepts = function (intercepts) {
          const container = document.getElementById("panel-recent-intercepts");
          if (!container) return;

          if (intercepts.length === 0) {
            container.innerHTML = `
              <div class="text-center text-slate-400 py-4">
                <svg class="w-8 h-8 mx-auto mb-2 text-slate-300" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"/>
                </svg>
                <div class="text-sm text-slate-400">æš‚æ— æ‹¦æˆªè®°å½•</div>
              </div>
            `;
            return;
          }

          const interceptsHtml = intercepts
            .slice(0, 5)
            .map((intercept) => {
              const iconMap = {
                ide_operation: "ğŸš¨",
                backup_removal: "ğŸ—‘ï¸",
                protection_restore: "ğŸ”’",
              };
              const icon = iconMap[intercept.type] || "ğŸ›¡ï¸";
              const time = new Date(intercept.timestamp).toLocaleTimeString(
                "zh-CN",
                {
                  hour: "2-digit",
                  minute: "2-digit",
                }
              );

              return `
              <div class="flex items-center justify-between py-2 border-b border-slate-200 last:border-b-0">
                <div class="flex items-center gap-2">
                  <span class="text-sm">${icon}</span>
                  <span class="text-sm text-slate-700">${intercept.description}</span>
                </div>
                <span class="text-xs text-slate-500">${time}</span>
              </div>
            `;
            })
            .join("");

          container.innerHTML = interceptsHtml;
        };

        // é˜²æŠ¤æœåŠ¡ç›¸å…³å‡½æ•°ç”±renderer.jsæä¾›

        window.viewGuardianLogs = function () {
          // è·å–æŸ¥çœ‹æ—¥å¿—æŒ‰é’®å¹¶è®¾ç½®loadingçŠ¶æ€
          const logBtn = document.querySelector(
            'button[onclick="viewGuardianLogs()"]'
          );
          const originalText = logBtn ? logBtn.innerHTML : "æŸ¥çœ‹æ—¥å¿—";

          if (logBtn) {
            logBtn.innerHTML = "ğŸ“„ åŠ è½½ä¸­...";
            logBtn.disabled = true;
          }

          // ç›´æ¥è°ƒç”¨IPCè·å–æ—¥å¿—
          if (typeof require !== "undefined") {
            const { ipcRenderer } = require("electron");
            ipcRenderer
              .invoke("get-enhanced-guardian-status")
              .then((status) => {
                let logs = [];
                let logSource = "æ— æ—¥å¿—";

                if (status.standalone && status.standalone.recentLogs) {
                  logs = status.standalone.recentLogs;
                  logSource = "ç‹¬ç«‹æœåŠ¡æ—¥å¿—";
                } else if (status.inProcess && status.inProcess.recentLogs) {
                  logs = status.inProcess.recentLogs;
                  logSource = "å†…ç½®è¿›ç¨‹æ—¥å¿—";
                }

                if (logs.length > 0) {
                  const logContent = logs
                    .map(
                      (log) =>
                        `<div class="py-1 border-b border-slate-200 text-sm">${log}</div>`
                    )
                    .join("");

                  // ä½¿ç”¨showAlertæ˜¾ç¤ºæ—¥å¿—
                  if (typeof showAlert === "function") {
                    showAlert(
                      `
                      <div class="text-left">
                        <h4 class="font-medium mb-2">${logSource}</h4>
                        <div class="max-h-64 overflow-y-auto bg-slate-50 p-3 rounded border">
                          ${logContent}
                        </div>
                      </div>
                    `,
                      "info"
                    );
                  } else {
                    showNotification(
                      `${logSource}: ${logs.join(", ")}`,
                      "info"
                    );
                  }
                } else {
                  showNotification("æš‚æ— é˜²æŠ¤æ—¥å¿—", "info");
                }
              })
              .catch((err) => {
                console.error("è·å–é˜²æŠ¤æ—¥å¿—å¤±è´¥:", err);
                showNotification("è·å–é˜²æŠ¤æ—¥å¿—å¤±è´¥", "error");
              })
              .finally(() => {
                // æ¢å¤æŒ‰é’®çŠ¶æ€
                if (logBtn) {
                  logBtn.innerHTML = originalText;
                  logBtn.disabled = false;
                }
              });
          } else {
            // æ¢å¤æŒ‰é’®çŠ¶æ€
            if (logBtn) {
              logBtn.innerHTML = originalText;
              logBtn.disabled = false;
            }
            showNotification("æ— æ³•è·å–é˜²æŠ¤æ—¥å¿—", "error");
          }
        };

        // é€šçŸ¥å‡½æ•°
        window.showNotification = function (message, type = "info") {
          // ä½¿ç”¨renderer.jsä¸­çš„showAlertå‡½æ•°
          if (typeof showAlert === "function") {
            showAlert(message, type);
          } else {
            // å¤‡ç”¨æ–¹æ¡ˆ
            alert(message);
          }
        };
      });
    </script>

    <!-- ç¡®ä¿å‡½æ•°åœ¨å…¨å±€ä½œç”¨åŸŸä¸­å¯ç”¨ -->
    <script>
      // è°ƒè¯•ï¼šæ£€æŸ¥renderer.jså‡½æ•°æ˜¯å¦å¯ç”¨
      console.log("ğŸ” HTMLè„šæœ¬æ‰§è¡Œæ—¶çš„å‡½æ•°æ£€æŸ¥:", {
        updateGuardianStatusDisplay: typeof window.updateGuardianStatusDisplay,
        refreshGuardianStatus: typeof window.refreshGuardianStatus,
        startGuardianService: typeof window.startGuardianService,
        stopAllNodeProcesses: typeof window.stopAllNodeProcesses,
      });

      // ç­‰å¾…renderer.jsåŠ è½½å®Œæˆåå†åˆå§‹åŒ–
      document.addEventListener("DOMContentLoaded", function () {
        // ç¡®ä¿å‡½æ•°å¯ç”¨
        if (typeof switchTab === "undefined") {
          window.switchTab = function (tabName) {
            console.log("switchTab fallback:", tabName);
          };
        }

        if (typeof testServerConnection === "undefined") {
          window.testServerConnection = function () {
            console.log("testServerConnection fallback");
          };
        }

        if (typeof refreshAllClientData === "undefined") {
          window.refreshAllClientData = function () {
            console.log("refreshAllClientData fallback");
          };
        }

        console.log("âœ… é¡µé¢åˆå§‹åŒ–å®Œæˆ");
      });
    </script>
  </body>
</html>
